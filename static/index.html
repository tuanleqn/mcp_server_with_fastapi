<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Server Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .card {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .service-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }
        .btn {
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
        }
        .btn:hover {
            background: #5a6fd8;
        }
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        .status.running {
            background: #d4edda;
            color: #155724;
        }
        .test-section {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🚀 MCP FastAPI Server Dashboard</h1>
        <p>Model Context Protocol Server with Finance Tools</p>
    </div>

    <div class="card">
        <h2>📡 Server Status</h2>
        <p>Server is running on: <strong id="server-url">http://127.0.0.1:8000</strong></p>
        <span class="status running">✅ RUNNING</span>
    </div>

    <div class="card">
        <h2>🔗 Quick Access Links</h2>
        <a href="/docs" class="btn" target="_blank">📚 API Documentation</a>
        <a href="/redoc" class="btn" target="_blank">📖 Alternative Docs</a>
        <a href="/health" class="btn" target="_blank">❤️ Health Check</a>
    </div>

    <div class="card">
        <h2>🧪 Test Endpoints</h2>
        <div class="test-section">
            <h3>Math Service Test</h3>
            <p>Test the math addition service:</p>
            <a href="/test/math/add?a=10&b=5" class="btn" target="_blank">➕ Test Math Add (10 + 5)</a>
            <a href="/test/math/add?a=25&b=17" class="btn" target="_blank">➕ Test Math Add (25 + 17)</a>
        </div>
        <div class="test-section">
            <h3>Echo Service Test</h3>
            <p>Test the echo service:</p>
            <a href="/test/echo?message=Hello%20MCP!" class="btn" target="_blank">🔊 Test Echo</a>
            <a href="/test/echo?message=Finance%20Server%20is%20working!" class="btn" target="_blank">🔊 Test Echo (Finance)</a>
        </div>
    </div>

    <h2>🏢 Available MCP Services</h2>
    <div class="service-grid">
        <div class="service-card">
            <h3>🔊 Echo Service</h3>
            <p>Simple echo service for testing MCP connectivity</p>
            <strong>Endpoint:</strong> /echo/<br>
            <strong>Tools:</strong> Echo messages, connectivity testing
        </div>

        <div class="service-card">
            <h3>🔢 Math Service</h3>
            <p>Mathematical operations and calculations</p>
            <strong>Endpoint:</strong> /math/<br>
            <strong>Tools:</strong> Add, subtract, multiply, divide
        </div>

        <div class="service-card">
            <h3>👤 User Database</h3>
            <p>User management and authentication</p>
            <strong>Endpoint:</strong> /user_db/<br>
            <strong>Tools:</strong> User CRUD, authentication
        </div>

        <div class="service-card">
            <h3>🏢 Company Database</h3>
            <p>Company information and data management</p>
            <strong>Endpoint:</strong> /finance_db_company/<br>
            <strong>Tools:</strong> Company data, financial info
        </div>

        <div class="service-card">
            <h3>📈 Stock Prices</h3>
            <p>Stock price data and historical information</p>
            <strong>Endpoint:</strong> /finance_db_stock_price/<br>
            <strong>Tools:</strong> Price data, historical analysis
        </div>

        <div class="service-card">
            <h3>🤖 Data Ingestion & ML</h3>
            <p>Machine learning predictions and data ingestion</p>
            <strong>Endpoint:</strong> /finance_data_ingestion/<br>
            <strong>Tools:</strong> ML models, predictions, data analysis
        </div>

        <div class="service-card">
            <h3>🧮 Financial Calculations</h3>
            <p>Financial calculations and metrics</p>
            <strong>Endpoint:</strong> /finance_calculations/<br>
            <strong>Tools:</strong> Returns, volatility, comparisons
        </div>

        <div class="service-card">
            <h3>💼 Portfolio Management</h3>
            <p>Portfolio analysis and management tools</p>
            <strong>Endpoint:</strong> /finance_portfolio/<br>
            <strong>Tools:</strong> Portfolio analysis, allocation
        </div>

        <div class="service-card">
            <h3>📊 Financial Plotting</h3>
            <p>Data visualization and charting</p>
            <strong>Endpoint:</strong> /finance_plotting/<br>
            <strong>Tools:</strong> Charts, graphs, visualizations
        </div>

        <div class="service-card">
            <h3>📰 News & Insights</h3>
            <p>Financial news and market insights</p>
            <strong>Endpoint:</strong> /finance_news_and_insights/<br>
            <strong>Tools:</strong> News analysis, market insights
        </div>

        <div class="service-card">
            <h3>🔮 Analysis & Predictions</h3>
            <p>Advanced financial analysis and predictions</p>
            <strong>Endpoint:</strong> /finance_analysis_and_predictions/<br>
            <strong>Tools:</strong> Advanced analytics, forecasting
        </div>
    </div>

    <div class="card">
        <h2>📖 How to Use MCP Services</h2>
        <ol>
            <li><strong>For Interactive Testing:</strong> Use the <a href="/docs" target="_blank">API Documentation</a> page</li>
            <li><strong>For MCP Clients:</strong> Connect to the individual endpoints (e.g., /math/mcp, /echo/mcp)</li>
            <li><strong>For HTTP Testing:</strong> Use the test endpoints above or tools like Postman</li>
            <li><strong>For Development:</strong> Check the <a href="/redoc" target="_blank">ReDoc</a> for detailed API specs</li>
        </ol>
    </div>

    <script>
        // Update server URL dynamically
        document.getElementById('server-url').textContent = window.location.origin;
        
        // Update all relative links to use current host
        const buttons = document.querySelectorAll('a[href^="/"]');
        buttons.forEach(btn => {
            if (!btn.href.startsWith(window.location.origin)) {
                btn.href = window.location.origin + btn.getAttribute('href');
            }
        });
    </script>
</body>
</html>
